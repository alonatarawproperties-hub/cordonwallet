You are my Replit Mobile Agent for an Expo React Native app (Cordon Wallet). Rebuild the in-app Browser / dApps tab to be functional and UX-polished, using Trust Wallet’s Browser screen as a reference for familiarity, BUT keep Cordon’s branding and security-first vibe (dark navy + monochrome white/blue, subtle glow, premium spacing).

GOALS
1) Functional in-app browser with URL/search input, recents, connected sessions, and a curated dApp list.
2) Clear separation between:
   - “Connected Sessions” (WalletConnect sessions / dApp connections)
   - “Token Approvals” (EVM allowances & Solana delegates if supported)
3) Add Cordon “Firewall Active” messaging + warnings inside browser flow (not spammy, but visible).
4) Make it feel premium: smooth animations, skeleton loading, haptics, subtle blur, consistent icons.

SCOPE (MUST IMPLEMENT)
A) Navigation + Tab
- Add/replace a bottom tab: “Browser” (or “dApps”) with globe icon.
- Route: /browser (or BrowserStack)
- Keep existing design system components (Card, Text, Button) if already present.

B) Browser Home Screen (Trust-wallet-like layout, but Cordon style)
Top area:
- Title: “Browser” (or “dApps”).
- Search bar: placeholder “Search or enter dApp URL”
  - Accepts domain or full URL. Auto-add https:// if missing.
  - On submit → open BrowserWebView screen.
- Optional small right icon buttons:
  - QR scan (for WalletConnect URI)
  - “Tabs”/history icon (optional, can be v2)

Sections (in order):
1) Connected Sessions (WalletConnect)
   - Header: “Connected Sessions” with pill badge e.g. “1 Active”
   - If none: show empty state “No active sessions”
   - If exists: show cards (1–3 visible) with:
     - dApp name (from session metadata)
     - domain + chain(s)
     - status dot “Connected”
     - tap opens “Session Details” sheet with:
       - disconnect session
       - view permissions (address access, sign message, sign tx)
       - last used time
2) Recents row
   - Horizontal scroll of last visited dApps (favicon/logo + name).
   - Long press to remove one; trash icon to clear all.
3) Popular dApps grid (curated list)
   - 2-column grid cards (like Trust), each includes:
     - icon (correct official logo if available; fallback to generated letter icon)
     - name
     - category tag (DEX, Lending, NFT, Bridge, etc.)
   - Include a starter list (Uniswap, Aave, OpenSea, 1inch, Jupiter, Raydium, Magic Eden, PancakeSwap, etc.) but keep it as DATA (editable array) not hardcoded UI.
4) WalletConnect entry card (important)
   - Card at bottom: “WalletConnect” + subtitle “Scan a QR code to connect to any WalletConnect-compatible dApp”
   - Tap opens scanner OR paste WC URI.
5) Security banner (Cordon differentiator)
   - Subtle banner: “Wallet Firewall Active — risky sites and transactions are screened.”
   - If user opens a flagged domain, show stronger banner + require extra confirm.

C) Browser WebView Screen
- Use react-native-webview.
- Top bar:
  - back/forward
  - page title + domain (tap opens actions sheet)
  - reload
  - “Shield” icon to open Security Info sheet (risk, site verification status)
- Show loading progress bar (thin, blue) + skeleton while loading.
- Basic protections:
  - Block obvious dangerous schemes (file://, javascript:, etc.)
  - Maintain allowlist for http/https only.
- History + recents:
  - On successful load, save to recents with favicon if possible.
- “Open in External Browser” in actions sheet.

D) WalletConnect Integration (Functional)
- Browser Home: QR scan and Paste URI both create a WC pairing.
- When WC session established:
  - It must appear under “Connected Sessions”.
  - Store session metadata: name, url, icon, chains, createdAt, lastUsedAt.
- Provide disconnect functionality.
- IMPORTANT: This is “Permissions / Sessions”, not token approvals.

E) Approvals vs Permissions (Fix the confusion)
- Update “Approvals” tab on Portfolio to include 2 sub-tabs:
  1) “Permissions” (dApp connections / WalletConnect sessions)
  2) “Token Approvals” (EVM allowances; optionally Solana delegates)
- Reason: Roachy.games “approved” via WalletConnect is a SESSION permission, not an ERC20 allowance.
- For Solana:
  - If we cannot reliably fetch token delegate approvals yet, show empty state with explanation:
    “Solana approvals differ from EVM allowances. This section will populate as we add Solana delegate indexing.”
- But WalletConnect sessions MUST show under Permissions.

F) UI/UX REQUIREMENTS (Premium)
- Use consistent monochrome palette (white/blue), subtle gradients, soft shadows, glassy cards.
- Smooth animations:
  - Screen transitions (fade/slide)
  - Card press feedback (scale 0.98)
  - Skeleton shimmer for loading lists
- Add light haptics on:
  - opening dApp
  - connect/disconnect
- All lists must look clean even empty (empty state cards, not blank).

FILE / COMPONENT STRUCTURE (suggested)
- /src/screens/Browser/BrowserHomeScreen.tsx
- /src/screens/Browser/BrowserWebViewScreen.tsx
- /src/screens/Browser/SessionDetailsSheet.tsx
- /src/components/browser/DappCard.tsx
- /src/components/browser/RecentItem.tsx
- /src/data/dapps.ts (curated list)
- /src/store/browserStore.ts (zustand or context)
- /src/store/walletConnectStore.ts (sessions list + actions)

TECH NOTES
- Use a single source of truth for WC sessions (store).
- Recents stored in AsyncStorage.
- Favicon strategy:
  - Try https://www.google.com/s2/favicons?domain=example.com&sz=128 OR site’s /favicon.ico
  - If fails, render fallback icon (first letter in a circle).
- Make sure no infinite renders: do not setState inside useEffect without stable dependency arrays.

DELIVERABLES
1) Browser tab fully working with the described layout.
2) Connected Sessions list populates from real WalletConnect sessions.
3) Permissions vs Token Approvals separation implemented.
4) Polished styling and animations consistent with Cordon theme.

After implementation:
- Provide a short checklist of manual tests (connect WC, open dApp, add to recents, disconnect, empty states).
- Ensure builds run with no red screen errors.